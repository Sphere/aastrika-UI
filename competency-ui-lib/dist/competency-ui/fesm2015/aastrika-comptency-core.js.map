{"version":3,"file":"aastrika-comptency-core.js","sources":["ng://@aastrika/comptency/core/config/url.config.ts","ng://@aastrika/comptency/core/services/data.service.ts","ng://@aastrika/comptency/core/components/app-loader/app-loader.component.ts","ng://@aastrika/comptency/core/core.module.ts","ng://@aastrika/comptency/core/aastrika-comptency-core.ts"],"sourcesContent":["/**\r\n * urlConfig to return the api url \r\n *\r\n * @author Aman Kumar Sharma <amankumar.sharma@tarento.com>\r\n */\r\nexport const urlConfig = {\r\n  // endpoint configs...!\r\n  // host: 'http://localhost:3002',\r\n  host: 'http://localhost:3000',\r\n  apiSlug: '/apis/protected/v8',\r\n  apiProxy: '/apis/proxies/v8',\r\n  apiBasePath: () => `${urlConfig.host}${urlConfig.apiSlug}`,\r\n  apiBaseProxy:() => `${urlConfig.host}${urlConfig.apiProxy}`,\r\n  getEntityById: (id:number) => `${urlConfig.apiBasePath()}/entityCompetency/getEntityById/${id}`,\r\n  getAllEntity: () => `${urlConfig.apiBasePath()}/entityCompetency/getAllEntity`,\r\n  getUserPassbook: () => `${urlConfig.apiBaseProxy()}/user/v1/passbook`,\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport {mergeMap} from 'rxjs/operators'\r\nimport { of as observableOf, throwError as observableThrowError, Observable } from 'rxjs';\r\n/**\r\n * DataService to make http call\r\n *\r\n * @author Aman Kumar Sharma <amankumar.sharma@tarento.com>\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DataService {\r\n    /**\r\n   * Contains base Url for api end points\r\n   */\r\n     baseUrl: string;\r\n    /**\r\n   * angular HttpClient\r\n   */\r\n  http: HttpClient;\r\n  constructor(http:HttpClient) {\r\n    this.http = http\r\n   }\r\n  /**\r\n   * for making get api calls\r\n   *\r\n   * @param requestParam interface\r\n   */\r\n  get(requestParam:any):Observable<any>{\r\n    const httpOptions: any = {\r\n      headers: requestParam.header ? requestParam.header : this.getHeader(),\r\n      params: requestParam.param,\r\n      observe: 'response'\r\n    };\r\n    return this.http.get(this.baseUrl + requestParam.url, httpOptions).pipe(\r\n      mergeMap(({ body, headers }: any) => {\r\n        if (body.responseCode !== 'OK') {\r\n          return observableThrowError(body);\r\n        }\r\n        return observableOf(body);\r\n      }));\r\n  }\r\n   /**\r\n   * for making get api calls\r\n   *\r\n   * @param requestParam interface\r\n   */\r\n  post(requestParam:any){\r\n    const httpOptions:any = {\r\n      headers: requestParam.header ? this.getHeader(requestParam.header) : this.getHeader(),\r\n      params: requestParam.param\r\n    }\r\n    // console.log('log in data service',requestParam)\r\n    return this.http.post(requestParam.url,requestParam.data,httpOptions).pipe(\r\n      mergeMap((data:any)=>{\r\n        if(data.responseCode === 200 || data.responseCode === 'OK'){\r\n          return observableOf(data);\r\n        }else {\r\n          return observableThrowError(data);\r\n        }\r\n        \r\n      })\r\n    )\r\n  }\r\n  /**\r\n   * for preparing headers\r\n   */\r\n   private getHeader(headers?: any): any {\r\n    \r\n    const default_headers = {\r\n      'Accept': 'application/json',\r\n     \r\n    };\r\n    \r\n    if (headers) {\r\n      return { ...default_headers, ...headers };\r\n    } else {\r\n      return { ...default_headers };\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport * as _ from 'lodash-es'\r\n@Component({\r\n  selector: 'lib-app-loader',\r\n  templateUrl: './app-loader.component.html',\r\n  styleUrls: ['./app-loader.component.scss']\r\n})\r\nexport class AppLoaderComponent implements OnInit {\r\n\r\n  @Input() data;\r\n  headerMessage: string;\r\n  loaderMessage: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.headerMessage = 'Please wait';\r\n    this.loaderMessage = 'We are fetching details';\r\n    if (this.data) {\r\n      this.headerMessage = _.get(this.data, 'headerMessage') || this.headerMessage;\r\n      this.loaderMessage = _.get(this.data, 'loaderMessage') || this.loaderMessage;\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DataService } from './services/data.service';\r\nimport {  HttpClientModule } from '@angular/common/http'\r\nimport { AppLoaderComponent } from './components/app-loader/app-loader.component';\r\n/**\r\n * Core Module  \r\n *\r\n * @author Aman Kumar Sharma <amankumar.sharma@tarento.com>\r\n */\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n  ],\r\n  declarations: [AppLoaderComponent],\r\n  exports:[AppLoaderComponent],\r\n  providers:[DataService]\r\n})\r\nexport class CoreModule { }\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["observableThrowError","observableOf","_.get","tslib_1.__decorate"],"mappings":"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"}